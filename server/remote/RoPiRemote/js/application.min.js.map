{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/application.min.js","application.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","application","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"$","document","ready","Application","run","CameraControl","_this","socketio","robotIpEntry","cameraButton","connectButton","cameraControlsButton","cameraControlsOff","cameraControlsJoystick","cameraControlsSteppedJoystick","robotControls","RobotControls","cameraControls","CameraControls","init","bootstrapToggle","change","processToggleCamera","processRobotToggle","click","selectMode","FollowMeJoystick","SteppedJoystick","disableControlsButton","settingsButton","Settings","Current","show","Dashboard","getInstance","getToggleStatus","toggle","prop","getIsConnected","getIsCameraActive","getIsControlsActive","hide","enableControlsButton","connect","io","getBaseServerUrl","forceNew","on","msg","text","title","robotType","hideIcon","DashboardIcons","Engine","modifySpeed","hasOwnProperty","setLogoUrl","logoUrl","parkingControl","update","showIcon","emit","disconnect","processToggleControls","startCamera","stopCamera","startEngine","stopEngine","joystickRight","currentTilt","currentPan","step","isBusy","currentCameraControls","sendCameraCommand","command","console","log","RequestsHelper","put","processResult","data","pan","tilt","adjustTilt","offset","adjustPan","prototype","cameraControl","currentDistance","currentInterval","currentDirection","currentPanPercent","currentTiltPercent","joystickSize","distanceMax","Math","floor","centerX","centerY","steppedStart","nipplejs","create","maxNumberOfNipples","zone","getElementById","size","mode","position","left","top","color","evt","type","x","y","clearInterval","direction","panPercent","tiltPercent","angle","destroy","Parking","dummyVoltageValue","tempWarningLimit","canvas","fabric","StaticCanvas","zoomFactor","originalWidth","originalHeight","isCameraVisible","cruiseControlSpeed","isMoving","setBackgroundColor","setHeight","setWidth","clockController","DashboardClockController","iconsController","DashboardIconsController","drawMiddleDisplay","drawCameraAndGauges","setInterval","isVisible","updateTime","cameraInterval","renderAll","onresize","resizeCanvas","tempInterval","callback","showAllIcons","leftGauge","setValue","rightGauge","miniGaugeLeft","miniGaugeRight","setTimeout","hideAllIcons","turnOn","ParkingSensors","Headlights","ParkingBrake","SeatBelt","turnOff","setValueAnimated","voltageText","setText","setCruiseControlSpeed","speed","needMove","setThreshold","move","Tempomat","stop","TurnSignals","icon","img","onload","hideClockOrLogo","cameraImage","setElement","width","height","onerror","showClockOrLogo","src","getCameraUrl","memPercent","cpuPercent","cpuTemp","WaterTemperature","logo","remove","logoImage","hideClock","Image","fromURL","image","ar","add","showClock","drawGauges","drawLeftGauge","steelseries","Radial","gaugeType","GaugeType","TYPE3","minValue","maxValue","ledVisible","foregroundType","ForegroundType","frameDesign","FrameDesign","TILTED_BLACK","knobStyle","KnobStyle","SILVER","pointerType","PointerType","TYPE9","lcdDecimals","threshold","tickLabelOrientation","TickLabelOrientation","HORIZONTAL","section","area","titleString","unitString","lcdVisible","useOdometer","odometerParams","digits","backgroundColor","BackgroundColor","CARBON","leftGaugeImage","Text","fontSize","textAlign","fontFamily","fill","Linear","TYPE1","backgroundVisible","frameVisible","thresholdVisible","niceScale","foregroundVisible","miniGaugeLeftImage","miniGaugeRightImage","drawRightGauge","RadialBargraph","TYPE2","fractionalScaleDecimals","useValueGradient","rightGaugeImage","degreesSymbol","Line","stroke","strokeWidth","zoomIt","factor","getHeight","getWidth","backgroundImage","bi","objects","getObjects","scaleX","scaleY","top_1","tempScaleX","tempScaleY","tempLeft","tempTop","setCoords","calcOffset","clientWidth","innerWidth","instance","visible","clockGaugeImage","Clock","TYPE4","secondPointerVisible","BRUSHED_STAINLESS","value","TYPE5","today","Date","h","checkTime","getHours","m","getMinutes","clockText","icons","target","undefined","id","path","FrontAssist","LaneAssist","loadSVGFromURL","result","PathGroup","iconPath","colorOff","color1","color2","color3","color4","colorLeftLine","colorRightLine","isOff","circle1","circle2","circle3","circle4","right","lineLeft","lineRight","dist","miniDisplay","d","drawMiniDisplay","startAngle","endAngle","allowTouchScrolling","setZoom","Circle","radius","selectable","body","Rect","wleft","wright","Group","lockScalingX","lockScalingY","lockScalingFlip","hasBorders","hasControls","miniDisplayImage","DisplaySingle","valuesNumeric","unitStringVisible","callbackSuccess","callbackError","ajax","url","getBaseAPIUrl","success","error","joystickLeft","accButton","brakeButton","currentSpeed","showDirectionJoystick","currentDirectionAngle","distance","degree","robotIpCookieName","robotIP","BootstrapDialog","message","load","closable","closeByBackdrop","closeByKeyboard","onshow","dialogRef","onshown","val","getRobotIp","executeShutdown","executeReboot","executeStop","buttons","label","action","dialogItself","close","onhide","storeRobotIp","checkRobotIp","Cookies","get","location","hostname","set","ip","confirm","TYPE_DANGER","btnOKLabel","btnOKClass","TYPE_WARNING"],"mappings":"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","file":"application.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","$(document).ready(function () {\n    new Application().run();\n});\nvar Application = (function () {\n    function Application() {\n        var _this = this;\n        this.socketio = null;\n        this.robotIpEntry = null;\n        this.cameraButton = null;\n        this.connectButton = null;\n        this.cameraControlsButton = null;\n        this.cameraControlsOff = null;\n        this.cameraControlsJoystick = null;\n        this.cameraControlsSteppedJoystick = null;\n        this.robotControls = new RobotControls();\n        this.cameraControls = new CameraControls();\n        this.run = function () {\n            _this.robotControls.init();\n            _this.cameraControls.init();\n            _this.cameraButton = $(\"#cameraButton\");\n            _this.cameraButton.bootstrapToggle();\n            _this.cameraButton.change(function () {\n                _this.processToggleCamera();\n            });\n            _this.connectButton = $(\"#connectButton\");\n            _this.connectButton.bootstrapToggle();\n            _this.connectButton.change(function () {\n                _this.processRobotToggle();\n            });\n            _this.cameraControlsButton = $(\"#controlsButtonOptions\");\n            _this.cameraControlsJoystick = $(\"#controlsJoystick\").click(function () {\n                _this.cameraControls.selectMode(CameraControl.FollowMeJoystick);\n            });\n            _this.cameraControlsSteppedJoystick = $(\"#controlsSteppedJoystick\").click(function () {\n                _this.cameraControls.selectMode(CameraControl.SteppedJoystick);\n            });\n            _this.disableControlsButton();\n            var settingsButton = $(\"#settingsButton\");\n            settingsButton.click(function () {\n                Settings.Current.show();\n            });\n            Dashboard.getInstance().show();\n        };\n        this.getToggleStatus = function (toggle) { return (toggle != null && toggle.prop(\"checked\")); };\n        this.getIsConnected = function () { return _this.getToggleStatus(_this.connectButton); };\n        this.getIsCameraActive = function () { return _this.getToggleStatus(_this.cameraButton); };\n        this.getIsControlsActive = function () { return true; };\n        this.disableControlsButton = function () {\n            _this.cameraControls.hide();\n            _this.cameraControlsButton.prop(\"disabled\", true);\n        };\n        this.enableControlsButton = function () {\n            _this.cameraControlsButton.prop(\"disabled\", false);\n            _this.cameraControls.show();\n        };\n        this.connect = function () {\n            _this.socketio = io.connect(Settings.Current.getBaseServerUrl() + \":80/\", { 'forceNew': true });\n            _this.socketio.on(\"connected\", function (msg) {\n                $(\"#badge\").text(msg.title + ' ' + msg.robotType);\n                Dashboard.getInstance().hideIcon(DashboardIcons.Engine);\n                _this.robotControls.modifySpeed(0);\n                if (msg.hasOwnProperty(\"logoUrl\")) {\n                    Dashboard.getInstance().setLogoUrl(msg.logoUrl);\n                }\n            });\n            _this.socketio.on(\"disconnected\", function (msg) {\n                $(\"#badge\").text('offline');\n                _this.connectButton.bootstrapToggle(\"off\");\n                _this.cameraButton.bootstrapToggle(\"off\");\n            });\n            _this.socketio.on(\"parking\", function (msg) {\n                Dashboard.getInstance().parkingControl.update(msg);\n            });\n            _this.socketio.on(\"sysinfo\", function (msg) {\n                Dashboard.getInstance().update(msg);\n            });\n            _this.socketio.on(\"error\", function (msg) {\n                Dashboard.getInstance().showIcon(DashboardIcons.Engine);\n            });\n            _this.socketio.on(\"reconnect_error\", function (msg) {\n                Dashboard.getInstance().showIcon(DashboardIcons.Engine);\n            });\n            _this.socketio.emit(\"connect\");\n        };\n        this.disconnect = function () {\n            if (_this.socketio !== null) {\n                _this.socketio.disconnect();\n            }\n        };\n        this.processToggleControls = function () {\n            if (!_this.getIsCameraActive())\n                return;\n        };\n        this.processToggleCamera = function () {\n            if (_this.getIsCameraActive()) {\n                Dashboard.getInstance().startCamera();\n                _this.enableControlsButton();\n            }\n            else {\n                Dashboard.getInstance().stopCamera();\n                if (!_this.getIsConnected()) {\n                    _this.cameraControls.hide();\n                    _this.disableControlsButton();\n                }\n            }\n        };\n        this.processRobotToggle = function () {\n            if (_this.getIsConnected()) {\n                Dashboard.getInstance().startEngine(function () {\n                    _this.connect();\n                    _this.robotControls.show();\n                    if (!_this.getIsCameraActive()) {\n                        _this.cameraButton.bootstrapToggle(\"toggle\");\n                    }\n                    _this.enableControlsButton();\n                });\n            }\n            else {\n                Dashboard.getInstance().stopEngine(function () {\n                    $(\"#badge\").text('offline');\n                    _this.robotControls.hide();\n                    _this.disconnect();\n                    if (!_this.getIsCameraActive()) {\n                        _this.disableControlsButton();\n                        _this.cameraControls.hide();\n                    }\n                });\n            }\n        };\n    }\n    return Application;\n}());\nvar CameraControl;\n(function (CameraControl) {\n    CameraControl[CameraControl[\"SteppedJoystick\"] = 0] = \"SteppedJoystick\";\n    CameraControl[CameraControl[\"FollowMeJoystick\"] = 1] = \"FollowMeJoystick\";\n})(CameraControl || (CameraControl = {}));\nvar CameraControls = (function () {\n    function CameraControls() {\n        var _this = this;\n        this.joystickRight = null;\n        this.currentTilt = 95;\n        this.currentPan = 90;\n        this.step = 10;\n        this.isBusy = false;\n        this.currentCameraControls = CameraControl.SteppedJoystick;\n        this.sendCameraCommand = function (command) {\n            if (_this.isBusy && command !== \"center\") {\n                console.log(\"Skipped request...\");\n                return;\n            }\n            _this.isBusy = true;\n            RequestsHelper.Current.put(\"servos/\" + command, _this.processResult, function () { return _this.isBusy = false; });\n        };\n        this.processResult = function (data) {\n            var pan = data[\"pan\"];\n            var tilt = data[\"tilt\"];\n            if (pan != null && pan !== -1) {\n                _this.currentPan = pan;\n            }\n            if (tilt != null && tilt !== -1) {\n                _this.currentTilt = data[\"tilt\"];\n            }\n            _this.isBusy = false;\n        };\n        this.adjustTilt = function (offset) { return (_this.currentTilt + offset); };\n        this.adjustPan = function (offset) { return (_this.currentPan + offset); };\n    }\n    CameraControls.prototype.init = function () {\n    };\n    CameraControls.prototype.selectMode = function (cameraControl) {\n        this.currentCameraControls = cameraControl;\n    };\n    CameraControls.prototype.show = function () {\n        var _this = this;\n        var currentDirection = null;\n        var currentDistance;\n        var currentPanPercent = 0;\n        var currentTiltPercent = 0;\n        var joystickSize = 120;\n        var distanceMax = Math.floor(joystickSize / 2);\n        var centerX = 0;\n        var centerY = 0;\n        var currentInterval;\n        var steppedStart = false;\n        this.hide();\n        this.currentCameraControls = CameraControl.SteppedJoystick;\n        if (this.joystickRight != null)\n            return;\n        this.joystickRight = nipplejs.create({\n            maxNumberOfNipples: 1,\n            zone: document.getElementById(\"jRight\"),\n            size: joystickSize,\n            mode: \"dynamic\",\n            position: { left: \"50%\", top: \"50%\" },\n            color: \"blue\"\n        }).on(\"start end\", function (evt, data) {\n            if (_this.currentCameraControls === CameraControl.FollowMeJoystick) {\n                if (evt.type === \"start\") {\n                    centerX = data.position.x;\n                    centerY = data.position.y;\n                    console.log(\"centerX:\" + centerX + \"  centerY:\" + centerY);\n                }\n                else {\n                    centerX = 0;\n                    centerY = 0;\n                    _this.sendCameraCommand(\"center\");\n                }\n                currentDirection = null;\n                currentDistance = 0;\n            }\n            else if (_this.currentCameraControls === CameraControl.SteppedJoystick) {\n                clearInterval(currentInterval);\n                if (evt.type === \"start\") {\n                    steppedStart = true;\n                }\n                else {\n                    _this.sendCameraCommand(\"move/stop\");\n                    if (steppedStart) {\n                        steppedStart = false;\n                        _this.sendCameraCommand(\"center\");\n                    }\n                }\n            }\n        }).on(\"move\", function (evt, data) {\n            if (_this.currentCameraControls === CameraControl.FollowMeJoystick) {\n                if (data == null || data.direction === null || data.position === null)\n                    return;\n                var panPercent = -Math.floor(((data.position.x - centerX) / distanceMax) * 100);\n                var tiltPercent = Math.floor(((data.position.y - centerY) / distanceMax) * 100);\n                if (panPercent > 100 || panPercent < -100 || tiltPercent > 100 || tiltPercent < -100) {\n                    return;\n                }\n                if (panPercent % 2 === 0 || tiltPercent % 2 === 0) {\n                    if (currentPanPercent !== panPercent || currentTiltPercent !== tiltPercent) {\n                        currentPanPercent = panPercent;\n                        currentTiltPercent = tiltPercent;\n                        _this.sendCameraCommand(\"percent/\" + panPercent + \"/\" + tiltPercent);\n                    }\n                }\n            }\n        }).on(\"dir\", function (evt, data) {\n            if (_this.currentCameraControls === CameraControl.SteppedJoystick) {\n                steppedStart = false;\n                var direction = data.direction.angle;\n                console.log(direction);\n                if (currentDirection === direction) {\n                    return;\n                }\n                currentDirection = direction;\n                _this.sendCameraCommand(\"move/\" + currentDirection);\n            }\n        });\n    };\n    CameraControls.prototype.hide = function () {\n        if (this.joystickRight != null) {\n            this.joystickRight.destroy();\n            this.joystickRight = null;\n        }\n        this.currentCameraControls = CameraControl.SteppedJoystick;\n    };\n    return CameraControls;\n}());\nvar Dashboard = (function () {\n    function Dashboard() {\n        var _this = this;\n        this.parkingControl = new Parking();\n        this.dummyVoltageValue = \"22.5 °C\";\n        this.tempWarningLimit = 60;\n        this.logoUrl = null;\n        this.canvas = new fabric.StaticCanvas(\"dashboard\");\n        this.zoomFactor = 1;\n        this.originalWidth = 1408;\n        this.originalHeight = 513;\n        this.isCameraVisible = false;\n        this.cruiseControlSpeed = 0;\n        this.isMoving = false;\n        this.show = function () {\n            _this.canvas.setBackgroundColor(\"black\", function () { });\n            _this.canvas.setHeight(_this.originalHeight);\n            _this.canvas.setWidth(_this.originalWidth);\n            _this.clockController = new DashboardClockController(_this.canvas);\n            _this.iconsController = new DashboardIconsController(_this.canvas);\n            _this.parkingControl.iconsController = _this.iconsController;\n            _this.drawMiddleDisplay();\n            _this.drawCameraAndGauges();\n            setInterval(function () {\n                if (_this.clockController.isVisible()) {\n                    _this.clockController.updateTime();\n                    if (_this.cameraInterval == null) {\n                        _this.canvas.renderAll();\n                    }\n                }\n            }, 1000);\n            window.onresize = _this.resizeCanvas;\n            _this.tempInterval = setInterval(function () {\n                clearInterval(_this.tempInterval);\n                _this.resizeCanvas();\n            }, 500);\n        };\n        this.startEngine = function (callback) {\n            _this.iconsController.showAllIcons();\n            _this.leftGauge.setValue(100);\n            _this.rightGauge.setValue(90);\n            _this.miniGaugeLeft.setValue(100);\n            _this.miniGaugeRight.setValue(100);\n            setTimeout(function () {\n                _this.iconsController.hideAllIcons();\n                _this.leftGauge.setValue(0);\n                _this.rightGauge.setValue(0);\n                _this.miniGaugeLeft.setValue(0);\n                _this.miniGaugeRight.setValue(0);\n                _this.parkingControl.turnOn();\n                _this.showIcon(DashboardIcons.ParkingSensors);\n                _this.showIcon(DashboardIcons.Headlights);\n                _this.showIcon(DashboardIcons.ParkingBrake);\n                _this.showIcon(DashboardIcons.SeatBelt);\n                if (callback != null) {\n                    callback();\n                }\n            }, 1500);\n        };\n        this.stopEngine = function (callback) {\n            _this.parkingControl.turnOff();\n            _this.miniGaugeLeft.setValue(0);\n            _this.miniGaugeRight.setValue(0);\n            _this.rightGauge.setValueAnimated(0);\n            _this.iconsController.hideAllIcons();\n            _this.voltageText.setText(_this.dummyVoltageValue);\n            if (callback != null) {\n                callback();\n            }\n        };\n        this.setCruiseControlSpeed = function (speed) {\n            if (_this.leftGauge != null) {\n                var needMove = false;\n                if (_this.cruiseControlSpeed !== speed && _this.isMoving) {\n                    needMove = true;\n                }\n                _this.cruiseControlSpeed = speed;\n                _this.leftGauge.setThreshold(_this.cruiseControlSpeed);\n                if (needMove) {\n                    _this.move();\n                }\n            }\n            if (_this.cruiseControlSpeed === 0) {\n                _this.hideIcon(DashboardIcons.Tempomat);\n            }\n            else {\n                _this.showIcon(DashboardIcons.Tempomat);\n            }\n        };\n        this.move = function () {\n            if (_this.leftGauge != null && _this.cruiseControlSpeed != null && !_this.isMoving) {\n                _this.hideIcon(DashboardIcons.ParkingBrake);\n                _this.isMoving = true;\n                _this.leftGauge.setValueAnimated(_this.cruiseControlSpeed);\n            }\n        };\n        this.stop = function () {\n            if (_this.leftGauge != null) {\n                _this.isMoving = false;\n                _this.leftGauge.setValueAnimated(0);\n                _this.showIcon(DashboardIcons.ParkingBrake);\n                _this.hideIcon(DashboardIcons.TurnSignals);\n            }\n        };\n        this.showIcon = function (icon) {\n            _this.iconsController.showIcon(icon);\n        };\n        this.hideIcon = function (icon) {\n            _this.iconsController.hideIcon(icon);\n        };\n        this.startCamera = function () {\n            var img = document.getElementById(\"camera\");\n            img.onload = function () {\n                _this.hideClockOrLogo();\n                _this.cameraImage.setElement(img);\n                _this.cameraImage.width = 500;\n                _this.cameraImage.height = 375;\n            };\n            img.onerror = function () {\n                _this.showClockOrLogo();\n            };\n            img.src = Settings.Current.getCameraUrl();\n            _this.cameraInterval = setInterval(function () {\n                _this.canvas.renderAll();\n            }, 250);\n        };\n        this.stopCamera = function () {\n            if (_this.cameraInterval != null) {\n                clearInterval(_this.cameraInterval);\n                _this.cameraInterval = null;\n            }\n            var img = document.getElementById(\"camera\");\n            img.onerror = function () {\n                _this.showClockOrLogo();\n            };\n            img.src = \"http://\";\n        };\n        this.update = function (msg) {\n            if (_this.canvas != null) {\n                var memPercent = msg[\"mp\"];\n                var cpuPercent = msg[\"cp\"];\n                var cpuTemp = msg[\"ct\"];\n                _this.rightGauge.setValueAnimated(cpuTemp);\n                _this.miniGaugeLeft.setValue(cpuPercent);\n                _this.miniGaugeRight.setValue(memPercent);\n                if (cpuTemp > _this.tempWarningLimit) {\n                    _this.iconsController.showIcon(DashboardIcons.WaterTemperature);\n                }\n                else {\n                    _this.iconsController.hideIcon(DashboardIcons.WaterTemperature);\n                }\n                if (msg[\"v\"] !== \"0\") {\n                    _this.voltageText.setText(msg[\"v\"] + \" V\");\n                }\n                else {\n                    _this.voltageText.setText(_this.dummyVoltageValue);\n                }\n            }\n        };\n        this.setLogoUrl = function (logo) {\n            _this.logoUrl = logo;\n        };\n        this.hideClockOrLogo = function () {\n            if (_this.logoUrl !== null) {\n                _this.canvas.remove(_this.logoImage);\n            }\n            else {\n                _this.clockController.hideClock();\n            }\n        };\n        this.showClockOrLogo = function () {\n            if (_this.logoUrl !== null) {\n                fabric.Image.fromURL(_this.logoUrl, function (image) {\n                    _this.logoImage = image;\n                    var ar = image.height / image.width;\n                    image.width = 200 * _this.zoomFactor;\n                    image.left = 705 * _this.zoomFactor - image.width / 2;\n                    image.height = image.width * ar;\n                    image.top = 220 * _this.zoomFactor - image.height / 2;\n                    _this.canvas.add(image);\n                    _this.canvas.renderAll();\n                });\n            }\n            else {\n                _this.clockController.showClock();\n            }\n        };\n        this.drawCameraAndGauges = function () {\n            fabric.Image.fromURL(\"http://\", function (image) {\n                _this.cameraImage = image;\n                var ar = image.height / image.width;\n                image.left = 455;\n                image.top = 60;\n                _this.canvas.add(image);\n                _this.drawGauges();\n            });\n            _this.showClockOrLogo();\n        };\n        this.drawLeftGauge = function () {\n            _this.leftGauge = new steelseries.Radial(\"gLeft\", {\n                gaugeType: steelseries.GaugeType.TYPE3,\n                minValue: 0,\n                maxValue: 100,\n                size: 510,\n                ledVisible: false,\n                foregroundType: steelseries.ForegroundType.TYPE3,\n                frameDesign: steelseries.FrameDesign.TILTED_BLACK,\n                knobStyle: steelseries.KnobStyle.SILVER,\n                pointerType: steelseries.PointerType.TYPE9,\n                lcdDecimals: 0,\n                threshold: 0,\n                tickLabelOrientation: steelseries.TickLabelOrientation.HORIZONTAL,\n                section: null,\n                area: null,\n                titleString: \"Speed\",\n                unitString: \"%\",\n                lcdVisible: true,\n                useOdometer: true,\n                odometerParams: { digits: 5 },\n                backgroundColor: steelseries.BackgroundColor.CARBON\n            });\n            var leftGaugeImage = new fabric.Image(document.getElementById(\"gLeft\"), {\n                left: 0,\n                top: 0,\n                width: 510,\n                height: 510\n            });\n            _this.canvas.add(leftGaugeImage);\n            _this.voltageText = new fabric.Text(_this.dummyVoltageValue, {\n                fontSize: 28,\n                textAlign: \"center\",\n                left: 890,\n                top: 25,\n                fontFamily: \"Arial\",\n                fill: \"white\"\n            });\n            _this.canvas.add(_this.voltageText);\n            _this.miniGaugeLeft = new steelseries.Linear(\"gMiniLeft\", {\n                gaugeType: steelseries.GaugeType.TYPE1,\n                backgroundVisible: false,\n                frameVisible: false,\n                minValue: 0,\n                maxValue: 100,\n                ledVisible: false,\n                thresholdVisible: false,\n                lcdVisible: false,\n                niceScale: false,\n                foregroundVisible: false,\n            });\n            var miniGaugeLeftImage = new fabric.Image(document.getElementById(\"gMiniLeft\"), {\n                left: 405,\n                top: 400,\n                width: 340,\n                height: 80\n            });\n            _this.canvas.add(miniGaugeLeftImage);\n            _this.miniGaugeRight = new steelseries.Linear(\"gMiniRight\", {\n                gaugeType: steelseries.GaugeType.TYPE1,\n                backgroundVisible: false,\n                frameVisible: false,\n                minValue: 0,\n                maxValue: 100,\n                ledVisible: false,\n                lcdVisible: false,\n                niceScale: true,\n                thresholdVisible: false,\n                foregroundVisible: false,\n            });\n            var miniGaugeRightImage = new fabric.Image(document.getElementById(\"gMiniRight\"), {\n                left: 660,\n                top: 400,\n                width: 340,\n                height: 80\n            });\n            _this.canvas.add(miniGaugeRightImage);\n        };\n        this.drawRightGauge = function () {\n            _this.rightGauge = new steelseries.RadialBargraph(\"gRight\", {\n                gaugeType: steelseries.GaugeType.TYPE2,\n                minValue: 10,\n                maxValue: 90,\n                size: 510,\n                tickLabelOrientation: steelseries.TickLabelOrientation.HORIZONTAL,\n                foregroundType: steelseries.ForegroundType.TYPE3,\n                frameDesign: steelseries.FrameDesign.TILTED_BLACK,\n                ledVisible: false,\n                niceScale: false,\n                fractionalScaleDecimals: false,\n                useValueGradient: true,\n                section: null,\n                area: null,\n                lcdVisible: false,\n                backgroundColor: steelseries.BackgroundColor.CARBON\n            });\n            var rightGaugeImage = new fabric.Image(document.getElementById(\"gRight\"), {\n                left: 898,\n                top: 0,\n                width: 510,\n                height: 510\n            });\n            _this.canvas.add(rightGaugeImage);\n            var degreesSymbol = new fabric.Text(\"°C\", {\n                fontSize: 28,\n                textAlign: \"center\",\n                left: 1317,\n                top: 270,\n                fontFamily: \"Arial\",\n                fill: \"white\"\n            });\n            _this.canvas.add(degreesSymbol);\n        };\n        this.drawGauges = function () {\n            _this.drawLeftGauge();\n            _this.drawRightGauge();\n            _this.parkingControl.init(_this.canvas);\n        };\n        this.drawMiddleDisplay = function () {\n            _this.canvas.add(new fabric.Line([400, 59, 1000, 59], {\n                stroke: \"gray\",\n                strokeWidth: 2\n            }));\n            _this.canvas.add(new fabric.Line([400, 436, 1000, 436], {\n                stroke: \"gray\",\n                strokeWidth: 2\n            }));\n        };\n        this.zoomIt = function (factor) {\n            _this.canvas.setHeight(_this.canvas.getHeight() * factor);\n            _this.canvas.setWidth(_this.canvas.getWidth() * factor);\n            if (_this.canvas.backgroundImage) {\n                var bi = _this.canvas.backgroundImage;\n                bi.width = bi.width * factor;\n                bi.height = bi.height * factor;\n            }\n            var objects = _this.canvas.getObjects();\n            for (var i in objects) {\n                var scaleX = objects[i].scaleX;\n                var scaleY = objects[i].scaleY;\n                var left = objects[i].left;\n                var top_1 = objects[i].top;\n                var tempScaleX = scaleX * factor;\n                var tempScaleY = scaleY * factor;\n                var tempLeft = left * factor;\n                var tempTop = top_1 * factor;\n                objects[i].scaleX = tempScaleX;\n                objects[i].scaleY = tempScaleY;\n                objects[i].left = tempLeft;\n                objects[i].top = tempTop;\n                objects[i].setCoords();\n            }\n            _this.canvas.renderAll();\n            _this.canvas.calcOffset();\n        };\n        this.resizeCanvas = function () {\n            var clientWidth = window.innerWidth;\n            _this.zoomFactor = clientWidth / _this.canvas.getWidth();\n            _this.zoomIt(_this.zoomFactor);\n        };\n        if (Dashboard.instance) {\n            throw new Error(\"Error - use Dashboard.getInstance()\");\n        }\n    }\n    Dashboard.getInstance = function () {\n        Dashboard.instance = Dashboard.instance || new Dashboard();\n        return Dashboard.instance;\n    };\n    return Dashboard;\n}());\nvar DashboardClockController = (function () {\n    function DashboardClockController(canvas) {\n        var _this = this;\n        this.isVisible = function () {\n            return _this.visible;\n        };\n        this.hideClock = function () {\n            _this.canvas.remove(_this.clockGaugeImage);\n            _this.visible = false;\n        };\n        this.showClock = function () {\n            _this.hideClock();\n            new steelseries.Clock(\"gClock\", {\n                gaugeType: steelseries.GaugeType.TYPE4,\n                size: 170,\n                secondPointerVisible: true,\n                backgroundVisible: true,\n                backgroundColor: steelseries.BackgroundColor.BRUSHED_STAINLESS,\n                frameVisible: false,\n                frameDesign: steelseries.FrameDesign.TILTED_BLACK,\n                minValue: 20,\n                maxValue: 80,\n                value: 45,\n                niceScale: true,\n                pointerType: steelseries.PointerType.TYPE5,\n            });\n            var factor = Dashboard.getInstance().zoomFactor;\n            _this.clockGaugeImage = new fabric.Image(document.getElementById(\"gClock\"), {\n                left: 579 * factor,\n                top: 120 * factor,\n                width: 250 * factor,\n                height: 250 * factor\n            });\n            _this.canvas.add(_this.clockGaugeImage);\n            _this.canvas.renderAll();\n            _this.visible = true;\n        };\n        this.updateTime = function () {\n            var today = new Date();\n            var h = _this.checkTime(today.getHours());\n            var m = _this.checkTime(today.getMinutes());\n            _this.clockText.setText(h + \":\" + m);\n        };\n        this.checkTime = function (i) {\n            if (i < 10) {\n                i = \"0\" + i;\n            }\n            ;\n            return i;\n        };\n        this.canvas = canvas;\n        this.clockText = new fabric.Text(\"21:45\", {\n            fontSize: 28,\n            textAlign: \"center\",\n            left: 420,\n            top: 25,\n            fontFamily: \"Arial\",\n            fill: \"white\"\n        });\n        this.canvas.add(this.clockText);\n        this.updateTime();\n    }\n    return DashboardClockController;\n}());\nvar DashboardIcons;\n(function (DashboardIcons) {\n    DashboardIcons[DashboardIcons[\"SeatBelt\"] = 0] = \"SeatBelt\";\n    DashboardIcons[DashboardIcons[\"Tempomat\"] = 1] = \"Tempomat\";\n    DashboardIcons[DashboardIcons[\"FrontAssist\"] = 2] = \"FrontAssist\";\n    DashboardIcons[DashboardIcons[\"Engine\"] = 3] = \"Engine\";\n    DashboardIcons[DashboardIcons[\"Headlights\"] = 4] = \"Headlights\";\n    DashboardIcons[DashboardIcons[\"LaneAssist\"] = 5] = \"LaneAssist\";\n    DashboardIcons[DashboardIcons[\"ParkingBrake\"] = 6] = \"ParkingBrake\";\n    DashboardIcons[DashboardIcons[\"ParkingSensors\"] = 7] = \"ParkingSensors\";\n    DashboardIcons[DashboardIcons[\"WaterTemperature\"] = 8] = \"WaterTemperature\";\n    DashboardIcons[DashboardIcons[\"TurnSignals\"] = 9] = \"TurnSignals\";\n})(DashboardIcons || (DashboardIcons = {}));\nvar DashboardIconsController = (function () {\n    function DashboardIconsController(canvas) {\n        this.icons = {};\n        this.canvas = canvas;\n    }\n    DashboardIconsController.prototype.showIcon = function (target) {\n        var _this = this;\n        var icon = this.icons[target];\n        if (icon != undefined && icon.isVisible) {\n            return;\n        }\n        else {\n            this.icons[target] = { id: target, isVisible: true };\n        }\n        var path = null;\n        var left = -1;\n        var top = -1;\n        switch (target) {\n            case DashboardIcons.Engine:\n                path = \"/images/Engine.svg\";\n                left = 675;\n                top = 445;\n                break;\n            case DashboardIcons.FrontAssist:\n                path = \"/images/Frontassist.svg\";\n                left = 1230;\n                top = 300;\n                break;\n            case DashboardIcons.Headlights:\n                path = \"/images/Headlights.svg\";\n                left = 615;\n                top = 10;\n                break;\n            case DashboardIcons.LaneAssist:\n                path = \"/images/Laneassist.svg\";\n                left = 525;\n                top = 445;\n                break;\n            case DashboardIcons.ParkingBrake:\n                path = \"/images/Parkingbrake.svg\";\n                left = 840;\n                top = 445;\n                break;\n            case DashboardIcons.ParkingSensors:\n                path = \"/images/Parkingsensors.svg\";\n                left = 1030;\n                top = 300;\n                break;\n            case DashboardIcons.SeatBelt:\n                path = \"/images/Seatbelt.svg\";\n                left = 900;\n                top = 445;\n                break;\n            case DashboardIcons.Tempomat:\n                path = \"/images/Tempomat.svg\";\n                left = 465;\n                top = 445;\n                break;\n            case DashboardIcons.TurnSignals:\n                path = \"/images/Turnsignal.svg\";\n                left = 675;\n                top = 10;\n                break;\n            case DashboardIcons.WaterTemperature:\n                path = \"/images/Temperature.svg\";\n                left = 960;\n                top = 280;\n                break;\n        }\n        if (path !== null && left !== -1 && top !== -1) {\n            fabric.loadSVGFromURL(path, function (objects) {\n                var factor = Dashboard.getInstance().zoomFactor;\n                var result = new fabric.PathGroup(objects, {\n                    left: left * factor,\n                    top: top * factor\n                });\n                result.scaleX = 0.7 * factor;\n                result.scaleY = 0.7 * factor;\n                _this.canvas.add(result);\n                _this.icons[target] = { id: target, iconPath: result, isVisible: true };\n            });\n        }\n    };\n    DashboardIconsController.prototype.hideIcon = function (target) {\n        var icon = this.icons[target];\n        if (icon != undefined && icon.isVisible) {\n            icon.isVisible = false;\n            this.canvas.remove(icon.iconPath);\n            icon.iconPath = null;\n        }\n    };\n    DashboardIconsController.prototype.showAllIcons = function () {\n        this.showIcon(DashboardIcons.Engine);\n        this.showIcon(DashboardIcons.FrontAssist);\n        this.showIcon(DashboardIcons.Headlights);\n        this.showIcon(DashboardIcons.LaneAssist);\n        this.showIcon(DashboardIcons.ParkingBrake);\n        this.showIcon(DashboardIcons.ParkingSensors);\n        this.showIcon(DashboardIcons.SeatBelt);\n        this.showIcon(DashboardIcons.Tempomat);\n        this.showIcon(DashboardIcons.TurnSignals);\n        this.showIcon(DashboardIcons.WaterTemperature);\n    };\n    DashboardIconsController.prototype.hideAllIcons = function () {\n        this.hideIcon(DashboardIcons.Engine);\n        this.hideIcon(DashboardIcons.FrontAssist);\n        this.hideIcon(DashboardIcons.Headlights);\n        this.hideIcon(DashboardIcons.LaneAssist);\n        this.hideIcon(DashboardIcons.ParkingBrake);\n        this.hideIcon(DashboardIcons.ParkingSensors);\n        this.hideIcon(DashboardIcons.SeatBelt);\n        this.hideIcon(DashboardIcons.Tempomat);\n        this.hideIcon(DashboardIcons.TurnSignals);\n        this.hideIcon(DashboardIcons.WaterTemperature);\n    };\n    return DashboardIconsController;\n}());\nvar Parking = (function () {\n    function Parking() {\n        var _this = this;\n        this.colorOff = \"lightGray\";\n        this.color1 = \"yellow\";\n        this.color2 = \"orange\";\n        this.color3 = \"orangered\";\n        this.color4 = \"red\";\n        this.colorLeftLine = \"red\";\n        this.colorRightLine = \"green\";\n        this.isOff = true;\n        this.circle1 = null;\n        this.circle2 = null;\n        this.circle3 = null;\n        this.circle4 = null;\n        this.left = null;\n        this.right = null;\n        this.lineLeft = null;\n        this.lineRight = null;\n        this.update = function (msg) {\n            if (_this.canvas != null) {\n                _this.circle1.stroke = _this.colorOff;\n                _this.circle2.stroke = _this.colorOff;\n                _this.circle3.stroke = _this.colorOff;\n                _this.circle4.stroke = _this.colorOff;\n                _this.left.stroke = _this.colorOff;\n                _this.right.stroke = _this.colorOff;\n                _this.lineLeft.fill = _this.colorOff;\n                _this.lineRight.fill = _this.colorOff;\n                var dist = msg[\"d\"];\n                if (!_this.isOff) {\n                    _this.miniDisplay.setValue(dist);\n                }\n                if (dist < 50 && dist >= 30) {\n                    _this.circle1.stroke = _this.color1;\n                }\n                if (dist < 30 && dist >= 20) {\n                    _this.circle2.stroke = _this.color2;\n                }\n                if (dist < 20 && dist >= 10) {\n                    _this.circle3.stroke = _this.color3;\n                }\n                if (dist < 10 || msg[\"c\"]) {\n                    _this.circle4.stroke = _this.color4;\n                }\n                if (msg[\"l\"]) {\n                    _this.left.stroke = _this.color4;\n                }\n                if (msg[\"r\"]) {\n                    _this.right.stroke = _this.color4;\n                }\n                if (msg[\"ll\"]) {\n                    _this.lineLeft.fill = _this.colorLeftLine;\n                }\n                if (msg[\"rl\"]) {\n                    _this.lineRight.fill = _this.colorRightLine;\n                }\n                if (msg[\"fa\"]) {\n                    _this.iconsController.showIcon(DashboardIcons.FrontAssist);\n                }\n                else {\n                    _this.iconsController.hideIcon(DashboardIcons.FrontAssist);\n                }\n                _this.canvas.renderAll();\n            }\n        };\n        this.turnOff = function () {\n            _this.isOff = true;\n            _this.update({ \"d\": 10000 });\n            _this.drawMiniDisplay();\n        };\n        this.turnOn = function () {\n            _this.isOff = false;\n            _this.drawMiniDisplay();\n        };\n        this.init = function (canvas) {\n            var startAngle = -2.618;\n            var endAngle = -0.5235;\n            startAngle = -2.35619;\n            endAngle = -0.785398;\n            _this.canvas = canvas;\n            _this.canvas.allowTouchScrolling = false;\n            _this.canvas.setZoom(1);\n            _this.circle1 = new fabric.Circle({\n                radius: 100,\n                left: -10,\n                top: 20,\n                angle: 0,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.circle2 = new fabric.Circle({\n                radius: 80,\n                left: 10,\n                top: 40,\n                angle: 0,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.circle3 = new fabric.Circle({\n                radius: 60,\n                left: 30,\n                top: 60,\n                angle: 0,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.circle4 = new fabric.Circle({\n                radius: 40,\n                left: 50,\n                top: 80,\n                angle: 0,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.left = new fabric.Circle({\n                radius: 40,\n                left: 50,\n                top: 80,\n                angle: 0,\n                startAngle: startAngle - 0.8,\n                endAngle: endAngle - 1.65,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.right = new fabric.Circle({\n                radius: 40,\n                left: 50,\n                top: 80,\n                angle: 0,\n                startAngle: startAngle + 1.65,\n                endAngle: endAngle + 0.8,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            var body = new fabric.Rect({\n                top: 115,\n                left: 73,\n                width: 50,\n                height: 100,\n                fill: \"gray\",\n                selectable: false\n            });\n            var wleft = new fabric.Rect({\n                top: 180,\n                left: 45,\n                width: 25,\n                height: 50,\n                fill: \"dimgray\",\n                selectable: false\n            });\n            var wright = new fabric.Rect({\n                top: 180,\n                left: 126,\n                width: 25,\n                height: 50,\n                fill: \"dimgray\",\n                selectable: false\n            });\n            _this.lineLeft = new fabric.Rect({\n                top: 130,\n                left: 80,\n                width: 10,\n                height: 20,\n                fill: _this.colorOff,\n                selectable: false\n            });\n            _this.lineRight = new fabric.Rect({\n                top: 130,\n                left: 106,\n                width: 10,\n                height: 20,\n                fill: _this.colorOff,\n                selectable: false\n            });\n            var parkingControl = new fabric.Group([\n                _this.circle1, _this.circle2, _this.circle3, _this.circle4, _this.left, _this.right,\n                body, wleft, wright, _this.lineLeft, _this.lineRight\n            ], {\n                left: 1078,\n                top: 140,\n                width: 150,\n                scaleX: 1,\n                scaleY: 1,\n                lockScalingX: true,\n                lockScalingY: true,\n                lockScalingFlip: true,\n                hasBorders: false,\n                hasControls: false\n            });\n            _this.canvas.add(parkingControl);\n            _this.drawMiniDisplay();\n        };\n        this.drawMiniDisplay = function () {\n            if (_this.miniDisplayImage != null) {\n                _this.canvas.remove(_this.miniDisplayImage);\n            }\n            if (_this.isOff) {\n                _this.miniDisplay = new steelseries.DisplaySingle(\"gMini\", {\n                    width: 160,\n                    height: 60,\n                    valuesNumeric: false,\n                    value: \"off \",\n                    lcdDecimals: 0\n                });\n            }\n            else {\n                _this.miniDisplay = new steelseries.DisplaySingle(\"gMini\", {\n                    width: 160,\n                    height: 60,\n                    unitString: \"cm\",\n                    lcdDecimals: 0,\n                    unitStringVisible: true\n                });\n            }\n            var factor = Dashboard.getInstance().zoomFactor;\n            _this.miniDisplayImage = new fabric.Image(document.getElementById(\"gMini\"), {\n                left: 1073 * factor,\n                top: 360 * factor,\n                width: 160 * factor,\n                height: 60 * factor\n            });\n            _this.canvas.add(_this.miniDisplayImage);\n        };\n    }\n    return Parking;\n}());\n;\nvar RequestsHelper = (function () {\n    function RequestsHelper() {\n    }\n    RequestsHelper.prototype.put = function (command, callbackSuccess, callbackError) {\n        if (callbackSuccess === void 0) { callbackSuccess = null; }\n        if (callbackError === void 0) { callbackError = null; }\n        $.ajax({\n            url: Settings.Current.getBaseAPIUrl() + command,\n            type: \"PUT\",\n            success: function (result) {\n                console.log(command);\n                if (callbackSuccess != null) {\n                    callbackSuccess(result);\n                }\n            },\n            error: function (result) {\n                console.log(result + command);\n                if (callbackError != null) {\n                    callbackError(result);\n                }\n            }\n        });\n    };\n    RequestsHelper.Current = new RequestsHelper();\n    return RequestsHelper;\n}());\nvar RobotControls = (function () {\n    function RobotControls() {\n        var _this = this;\n        this.joystickLeft = null;\n        this.accButton = null;\n        this.brakeButton = null;\n        this.currentSpeed = 40;\n        this.showDirectionJoystick = function () {\n            if (_this.joystickLeft != null)\n                return;\n            var currentDirectionAngle = 0;\n            Dashboard.getInstance().setCruiseControlSpeed(_this.currentSpeed);\n            _this.joystickLeft = nipplejs.create({\n                maxNumberOfNipples: 1,\n                zone: document.getElementById(\"jLeft\"),\n                mode: \"dynamic\",\n                size: 120,\n                position: { left: \"50%\", top: \"50%\" },\n                color: \"green\"\n            }).on(\"start end\", function (evt, data) {\n                if (evt.type === \"end\") {\n                    RequestsHelper.Current.put(\"motor/stop\");\n                    Dashboard.getInstance().stop();\n                }\n            }).on(\"move\", function (evt, data) {\n                var dist = data.distance;\n                if (dist > 10) {\n                    var angle = Math.floor(data.angle.degree / 10) * 10;\n                    if (angle !== currentDirectionAngle) {\n                        RequestsHelper.Current.put(\"motor/move/\" + angle);\n                        currentDirectionAngle = angle;\n                        Dashboard.getInstance().move();\n                        if ((angle > 100 && angle < 260) || angle < 80 || angle > 280) {\n                            Dashboard.getInstance().showIcon(DashboardIcons.TurnSignals);\n                        }\n                        else {\n                            Dashboard.getInstance().hideIcon(DashboardIcons.TurnSignals);\n                        }\n                    }\n                }\n            });\n        };\n    }\n    RobotControls.prototype.init = function () {\n        var _this = this;\n        this.accButton = $(\"#accButton\");\n        this.accButton.click(function () {\n            _this.modifySpeed(+10);\n        });\n        this.brakeButton = $(\"#brakeButton\");\n        this.brakeButton.click(function () {\n            _this.modifySpeed(-10);\n        });\n    };\n    RobotControls.prototype.show = function () {\n        this.showDirectionJoystick();\n        this.accButton.show();\n        this.brakeButton.show();\n    };\n    RobotControls.prototype.hide = function () {\n        if (this.joystickLeft != null) {\n            this.joystickLeft.destroy();\n            this.joystickLeft = null;\n        }\n        if (this.accButton != null) {\n            this.accButton.hide();\n        }\n        if (this.brakeButton != null) {\n            this.brakeButton.hide();\n        }\n    };\n    RobotControls.prototype.modifySpeed = function (speed) {\n        var _this = this;\n        RequestsHelper.Current.put(\"motor/speed/\" + (this.currentSpeed + speed), function (data) {\n            _this.currentSpeed = data[\"speed\"];\n            Dashboard.getInstance().setCruiseControlSpeed(_this.currentSpeed);\n        });\n    };\n    return RobotControls;\n}());\nvar Settings = (function () {\n    function Settings() {\n        var _this = this;\n        this.robotIpCookieName = \"RobotIP\";\n        this.robotIP = null;\n        this.show = function () {\n            BootstrapDialog.show({\n                title: \"Settings\",\n                message: $(\"<div></div>\").load(\"settings.html\"),\n                closable: true,\n                closeByBackdrop: true,\n                closeByKeyboard: true,\n                data: {},\n                onshow: function (dialogRef) {\n                },\n                onshown: function (dialogRef) {\n                    $(\"#robotIP\").val(_this.getRobotIp());\n                    $(\"#shutdownButton\").click(_this.executeShutdown);\n                    $(\"#rebootButton\").click(_this.executeReboot);\n                    $(\"#stopButton\").click(_this.executeStop);\n                },\n                buttons: [\n                    {\n                        label: \"Close\",\n                        action: function (dialogItself) {\n                            dialogItself.close();\n                        }\n                    }\n                ],\n                onhide: function (dialogRef) {\n                    _this.robotIP = $(\"#robotIP\").val();\n                    _this.storeRobotIp();\n                }\n            });\n        };\n        this.getBaseServerUrl = function () {\n            return \"http://\" + _this.getRobotIp();\n        };\n        this.getBaseAPIUrl = function () {\n            return \"http://\" + _this.getRobotIp() + \":80/ropi/api/v1.0/\";\n        };\n        this.getCameraUrl = function () {\n            return _this.getBaseServerUrl() + \":8080/stream/video.mjpeg\";\n        };\n    }\n    Settings.prototype.getRobotIp = function () {\n        if (!this.checkRobotIp(this.robotIP)) {\n            this.robotIP = Cookies.get(this.robotIpCookieName);\n            if (!this.checkRobotIp(this.robotIP)) {\n                this.robotIP = window.location.hostname;\n                if (!this.checkRobotIp(this.robotIP)) {\n                    this.robotIP = \"raspberrypi\";\n                }\n            }\n        }\n        return this.robotIP;\n    };\n    Settings.prototype.storeRobotIp = function () {\n        Cookies.set(this.robotIpCookieName, this.robotIP);\n    };\n    Settings.prototype.checkRobotIp = function (ip) {\n        return ip != null && ip !== \"\" && ip !== \"undefined\";\n    };\n    Settings.prototype.executeShutdown = function () {\n        BootstrapDialog.confirm({\n            title: \"WARNING\",\n            message: \"You are about to shutdown the Robot.\\r\\n You won't be able to reach it anymore (power on required)\",\n            type: BootstrapDialog.TYPE_DANGER,\n            btnOKLabel: \"Yes, shutdown!\",\n            btnOKClass: \"btn-danger\",\n            callback: function (result) {\n                if (result) {\n                    RequestsHelper.Current.put(\"system/shutdown\");\n                }\n            }\n        });\n    };\n    Settings.prototype.executeReboot = function () {\n        BootstrapDialog.confirm({\n            title: \"WARNING\",\n            message: \"You are about to reboot the Robot.\\r\\n Please wait few minutes then reconnect to the Robot.\",\n            type: BootstrapDialog.TYPE_WARNING,\n            btnOKLabel: \"Yes, reboot!\",\n            btnOKClass: \"btn-warning\",\n            callback: function (result) {\n                if (result) {\n                    RequestsHelper.Current.put(\"system/reboot\");\n                }\n            }\n        });\n    };\n    Settings.prototype.executeStop = function () {\n        BootstrapDialog.confirm({\n            title: \"WARNING\",\n            message: \"You are about to stop the server running on the Robot.\\r\\n You won't be able to reach it anymore (hard reset required)\",\n            type: BootstrapDialog.TYPE_DANGER,\n            btnOKLabel: \"Yes, stop it!\",\n            btnOKClass: \"btn-danger\",\n            callback: function (result) {\n                if (result) {\n                    RequestsHelper.Current.put(\"quit\");\n                }\n            }\n        });\n    };\n    Settings.Current = new Settings();\n    return Settings;\n}());\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.application = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n$(document).ready(function () {\n    new Application().run();\n});\nvar Application = (function () {\n    function Application() {\n        var _this = this;\n        this.socketio = null;\n        this.robotIpEntry = null;\n        this.cameraButton = null;\n        this.connectButton = null;\n        this.cameraControlsButton = null;\n        this.cameraControlsOff = null;\n        this.cameraControlsJoystick = null;\n        this.cameraControlsSteppedJoystick = null;\n        this.robotControls = new RobotControls();\n        this.cameraControls = new CameraControls();\n        this.run = function () {\n            _this.robotControls.init();\n            _this.cameraControls.init();\n            _this.cameraButton = $(\"#cameraButton\");\n            _this.cameraButton.bootstrapToggle();\n            _this.cameraButton.change(function () {\n                _this.processToggleCamera();\n            });\n            _this.connectButton = $(\"#connectButton\");\n            _this.connectButton.bootstrapToggle();\n            _this.connectButton.change(function () {\n                _this.processRobotToggle();\n            });\n            _this.cameraControlsButton = $(\"#controlsButtonOptions\");\n            _this.cameraControlsJoystick = $(\"#controlsJoystick\").click(function () {\n                _this.cameraControls.selectMode(CameraControl.FollowMeJoystick);\n            });\n            _this.cameraControlsSteppedJoystick = $(\"#controlsSteppedJoystick\").click(function () {\n                _this.cameraControls.selectMode(CameraControl.SteppedJoystick);\n            });\n            _this.disableControlsButton();\n            var settingsButton = $(\"#settingsButton\");\n            settingsButton.click(function () {\n                Settings.Current.show();\n            });\n            Dashboard.getInstance().show();\n        };\n        this.getToggleStatus = function (toggle) { return (toggle != null && toggle.prop(\"checked\")); };\n        this.getIsConnected = function () { return _this.getToggleStatus(_this.connectButton); };\n        this.getIsCameraActive = function () { return _this.getToggleStatus(_this.cameraButton); };\n        this.getIsControlsActive = function () { return true; };\n        this.disableControlsButton = function () {\n            _this.cameraControls.hide();\n            _this.cameraControlsButton.prop(\"disabled\", true);\n        };\n        this.enableControlsButton = function () {\n            _this.cameraControlsButton.prop(\"disabled\", false);\n            _this.cameraControls.show();\n        };\n        this.connect = function () {\n            _this.socketio = io.connect(Settings.Current.getBaseServerUrl() + \":80/\", { 'forceNew': true });\n            _this.socketio.on(\"connected\", function (msg) {\n                $(\"#badge\").text(msg.title + ' ' + msg.robotType);\n                Dashboard.getInstance().hideIcon(DashboardIcons.Engine);\n                _this.robotControls.modifySpeed(0);\n                if (msg.hasOwnProperty(\"logoUrl\")) {\n                    Dashboard.getInstance().setLogoUrl(msg.logoUrl);\n                }\n            });\n            _this.socketio.on(\"disconnected\", function (msg) {\n                $(\"#badge\").text('offline');\n                _this.connectButton.bootstrapToggle(\"off\");\n                _this.cameraButton.bootstrapToggle(\"off\");\n            });\n            _this.socketio.on(\"parking\", function (msg) {\n                Dashboard.getInstance().parkingControl.update(msg);\n            });\n            _this.socketio.on(\"sysinfo\", function (msg) {\n                Dashboard.getInstance().update(msg);\n            });\n            _this.socketio.on(\"error\", function (msg) {\n                Dashboard.getInstance().showIcon(DashboardIcons.Engine);\n            });\n            _this.socketio.on(\"reconnect_error\", function (msg) {\n                Dashboard.getInstance().showIcon(DashboardIcons.Engine);\n            });\n            _this.socketio.emit(\"connect\");\n        };\n        this.disconnect = function () {\n            if (_this.socketio !== null) {\n                _this.socketio.disconnect();\n            }\n        };\n        this.processToggleControls = function () {\n            if (!_this.getIsCameraActive())\n                return;\n        };\n        this.processToggleCamera = function () {\n            if (_this.getIsCameraActive()) {\n                Dashboard.getInstance().startCamera();\n                _this.enableControlsButton();\n            }\n            else {\n                Dashboard.getInstance().stopCamera();\n                if (!_this.getIsConnected()) {\n                    _this.cameraControls.hide();\n                    _this.disableControlsButton();\n                }\n            }\n        };\n        this.processRobotToggle = function () {\n            if (_this.getIsConnected()) {\n                Dashboard.getInstance().startEngine(function () {\n                    _this.connect();\n                    _this.robotControls.show();\n                    if (!_this.getIsCameraActive()) {\n                        _this.cameraButton.bootstrapToggle(\"toggle\");\n                    }\n                    _this.enableControlsButton();\n                });\n            }\n            else {\n                Dashboard.getInstance().stopEngine(function () {\n                    $(\"#badge\").text('offline');\n                    _this.robotControls.hide();\n                    _this.disconnect();\n                    if (!_this.getIsCameraActive()) {\n                        _this.disableControlsButton();\n                        _this.cameraControls.hide();\n                    }\n                });\n            }\n        };\n    }\n    return Application;\n}());\nvar CameraControl;\n(function (CameraControl) {\n    CameraControl[CameraControl[\"SteppedJoystick\"] = 0] = \"SteppedJoystick\";\n    CameraControl[CameraControl[\"FollowMeJoystick\"] = 1] = \"FollowMeJoystick\";\n})(CameraControl || (CameraControl = {}));\nvar CameraControls = (function () {\n    function CameraControls() {\n        var _this = this;\n        this.joystickRight = null;\n        this.currentTilt = 95;\n        this.currentPan = 90;\n        this.step = 10;\n        this.isBusy = false;\n        this.currentCameraControls = CameraControl.SteppedJoystick;\n        this.sendCameraCommand = function (command) {\n            if (_this.isBusy && command !== \"center\") {\n                console.log(\"Skipped request...\");\n                return;\n            }\n            _this.isBusy = true;\n            RequestsHelper.Current.put(\"servos/\" + command, _this.processResult, function () { return _this.isBusy = false; });\n        };\n        this.processResult = function (data) {\n            var pan = data[\"pan\"];\n            var tilt = data[\"tilt\"];\n            if (pan != null && pan !== -1) {\n                _this.currentPan = pan;\n            }\n            if (tilt != null && tilt !== -1) {\n                _this.currentTilt = data[\"tilt\"];\n            }\n            _this.isBusy = false;\n        };\n        this.adjustTilt = function (offset) { return (_this.currentTilt + offset); };\n        this.adjustPan = function (offset) { return (_this.currentPan + offset); };\n    }\n    CameraControls.prototype.init = function () {\n    };\n    CameraControls.prototype.selectMode = function (cameraControl) {\n        this.currentCameraControls = cameraControl;\n    };\n    CameraControls.prototype.show = function () {\n        var _this = this;\n        var currentDirection = null;\n        var currentDistance;\n        var currentPanPercent = 0;\n        var currentTiltPercent = 0;\n        var joystickSize = 120;\n        var distanceMax = Math.floor(joystickSize / 2);\n        var centerX = 0;\n        var centerY = 0;\n        var currentInterval;\n        var steppedStart = false;\n        this.hide();\n        this.currentCameraControls = CameraControl.SteppedJoystick;\n        if (this.joystickRight != null)\n            return;\n        this.joystickRight = nipplejs.create({\n            maxNumberOfNipples: 1,\n            zone: document.getElementById(\"jRight\"),\n            size: joystickSize,\n            mode: \"dynamic\",\n            position: { left: \"50%\", top: \"50%\" },\n            color: \"blue\"\n        }).on(\"start end\", function (evt, data) {\n            if (_this.currentCameraControls === CameraControl.FollowMeJoystick) {\n                if (evt.type === \"start\") {\n                    centerX = data.position.x;\n                    centerY = data.position.y;\n                    console.log(\"centerX:\" + centerX + \"  centerY:\" + centerY);\n                }\n                else {\n                    centerX = 0;\n                    centerY = 0;\n                    _this.sendCameraCommand(\"center\");\n                }\n                currentDirection = null;\n                currentDistance = 0;\n            }\n            else if (_this.currentCameraControls === CameraControl.SteppedJoystick) {\n                clearInterval(currentInterval);\n                if (evt.type === \"start\") {\n                    steppedStart = true;\n                }\n                else {\n                    _this.sendCameraCommand(\"move/stop\");\n                    if (steppedStart) {\n                        steppedStart = false;\n                        _this.sendCameraCommand(\"center\");\n                    }\n                }\n            }\n        }).on(\"move\", function (evt, data) {\n            if (_this.currentCameraControls === CameraControl.FollowMeJoystick) {\n                if (data == null || data.direction === null || data.position === null)\n                    return;\n                var panPercent = -Math.floor(((data.position.x - centerX) / distanceMax) * 100);\n                var tiltPercent = Math.floor(((data.position.y - centerY) / distanceMax) * 100);\n                if (panPercent > 100 || panPercent < -100 || tiltPercent > 100 || tiltPercent < -100) {\n                    return;\n                }\n                if (panPercent % 2 === 0 || tiltPercent % 2 === 0) {\n                    if (currentPanPercent !== panPercent || currentTiltPercent !== tiltPercent) {\n                        currentPanPercent = panPercent;\n                        currentTiltPercent = tiltPercent;\n                        _this.sendCameraCommand(\"percent/\" + panPercent + \"/\" + tiltPercent);\n                    }\n                }\n            }\n        }).on(\"dir\", function (evt, data) {\n            if (_this.currentCameraControls === CameraControl.SteppedJoystick) {\n                steppedStart = false;\n                var direction = data.direction.angle;\n                console.log(direction);\n                if (currentDirection === direction) {\n                    return;\n                }\n                currentDirection = direction;\n                _this.sendCameraCommand(\"move/\" + currentDirection);\n            }\n        });\n    };\n    CameraControls.prototype.hide = function () {\n        if (this.joystickRight != null) {\n            this.joystickRight.destroy();\n            this.joystickRight = null;\n        }\n        this.currentCameraControls = CameraControl.SteppedJoystick;\n    };\n    return CameraControls;\n}());\nvar Dashboard = (function () {\n    function Dashboard() {\n        var _this = this;\n        this.parkingControl = new Parking();\n        this.dummyVoltageValue = \"22.5 °C\";\n        this.tempWarningLimit = 60;\n        this.logoUrl = null;\n        this.canvas = new fabric.StaticCanvas(\"dashboard\");\n        this.zoomFactor = 1;\n        this.originalWidth = 1408;\n        this.originalHeight = 513;\n        this.isCameraVisible = false;\n        this.cruiseControlSpeed = 0;\n        this.isMoving = false;\n        this.show = function () {\n            _this.canvas.setBackgroundColor(\"black\", function () { });\n            _this.canvas.setHeight(_this.originalHeight);\n            _this.canvas.setWidth(_this.originalWidth);\n            _this.clockController = new DashboardClockController(_this.canvas);\n            _this.iconsController = new DashboardIconsController(_this.canvas);\n            _this.parkingControl.iconsController = _this.iconsController;\n            _this.drawMiddleDisplay();\n            _this.drawCameraAndGauges();\n            setInterval(function () {\n                if (_this.clockController.isVisible()) {\n                    _this.clockController.updateTime();\n                    if (_this.cameraInterval == null) {\n                        _this.canvas.renderAll();\n                    }\n                }\n            }, 1000);\n            window.onresize = _this.resizeCanvas;\n            _this.tempInterval = setInterval(function () {\n                clearInterval(_this.tempInterval);\n                _this.resizeCanvas();\n            }, 500);\n        };\n        this.startEngine = function (callback) {\n            _this.iconsController.showAllIcons();\n            _this.leftGauge.setValue(100);\n            _this.rightGauge.setValue(90);\n            _this.miniGaugeLeft.setValue(100);\n            _this.miniGaugeRight.setValue(100);\n            setTimeout(function () {\n                _this.iconsController.hideAllIcons();\n                _this.leftGauge.setValue(0);\n                _this.rightGauge.setValue(0);\n                _this.miniGaugeLeft.setValue(0);\n                _this.miniGaugeRight.setValue(0);\n                _this.parkingControl.turnOn();\n                _this.showIcon(DashboardIcons.ParkingSensors);\n                _this.showIcon(DashboardIcons.Headlights);\n                _this.showIcon(DashboardIcons.ParkingBrake);\n                _this.showIcon(DashboardIcons.SeatBelt);\n                if (callback != null) {\n                    callback();\n                }\n            }, 1500);\n        };\n        this.stopEngine = function (callback) {\n            _this.parkingControl.turnOff();\n            _this.miniGaugeLeft.setValue(0);\n            _this.miniGaugeRight.setValue(0);\n            _this.rightGauge.setValueAnimated(0);\n            _this.iconsController.hideAllIcons();\n            _this.voltageText.setText(_this.dummyVoltageValue);\n            if (callback != null) {\n                callback();\n            }\n        };\n        this.setCruiseControlSpeed = function (speed) {\n            if (_this.leftGauge != null) {\n                var needMove = false;\n                if (_this.cruiseControlSpeed !== speed && _this.isMoving) {\n                    needMove = true;\n                }\n                _this.cruiseControlSpeed = speed;\n                _this.leftGauge.setThreshold(_this.cruiseControlSpeed);\n                if (needMove) {\n                    _this.move();\n                }\n            }\n            if (_this.cruiseControlSpeed === 0) {\n                _this.hideIcon(DashboardIcons.Tempomat);\n            }\n            else {\n                _this.showIcon(DashboardIcons.Tempomat);\n            }\n        };\n        this.move = function () {\n            if (_this.leftGauge != null && _this.cruiseControlSpeed != null && !_this.isMoving) {\n                _this.hideIcon(DashboardIcons.ParkingBrake);\n                _this.isMoving = true;\n                _this.leftGauge.setValueAnimated(_this.cruiseControlSpeed);\n            }\n        };\n        this.stop = function () {\n            if (_this.leftGauge != null) {\n                _this.isMoving = false;\n                _this.leftGauge.setValueAnimated(0);\n                _this.showIcon(DashboardIcons.ParkingBrake);\n                _this.hideIcon(DashboardIcons.TurnSignals);\n            }\n        };\n        this.showIcon = function (icon) {\n            _this.iconsController.showIcon(icon);\n        };\n        this.hideIcon = function (icon) {\n            _this.iconsController.hideIcon(icon);\n        };\n        this.startCamera = function () {\n            var img = document.getElementById(\"camera\");\n            img.onload = function () {\n                _this.hideClockOrLogo();\n                _this.cameraImage.setElement(img);\n                _this.cameraImage.width = 500;\n                _this.cameraImage.height = 375;\n            };\n            img.onerror = function () {\n                _this.showClockOrLogo();\n            };\n            img.src = Settings.Current.getCameraUrl();\n            _this.cameraInterval = setInterval(function () {\n                _this.canvas.renderAll();\n            }, 250);\n        };\n        this.stopCamera = function () {\n            if (_this.cameraInterval != null) {\n                clearInterval(_this.cameraInterval);\n                _this.cameraInterval = null;\n            }\n            var img = document.getElementById(\"camera\");\n            img.onerror = function () {\n                _this.showClockOrLogo();\n            };\n            img.src = \"http://\";\n        };\n        this.update = function (msg) {\n            if (_this.canvas != null) {\n                var memPercent = msg[\"mp\"];\n                var cpuPercent = msg[\"cp\"];\n                var cpuTemp = msg[\"ct\"];\n                _this.rightGauge.setValueAnimated(cpuTemp);\n                _this.miniGaugeLeft.setValue(cpuPercent);\n                _this.miniGaugeRight.setValue(memPercent);\n                if (cpuTemp > _this.tempWarningLimit) {\n                    _this.iconsController.showIcon(DashboardIcons.WaterTemperature);\n                }\n                else {\n                    _this.iconsController.hideIcon(DashboardIcons.WaterTemperature);\n                }\n                if (msg[\"v\"] !== \"0\") {\n                    _this.voltageText.setText(msg[\"v\"] + \" V\");\n                }\n                else {\n                    _this.voltageText.setText(_this.dummyVoltageValue);\n                }\n            }\n        };\n        this.setLogoUrl = function (logo) {\n            _this.logoUrl = logo;\n        };\n        this.hideClockOrLogo = function () {\n            if (_this.logoUrl !== null) {\n                _this.canvas.remove(_this.logoImage);\n            }\n            else {\n                _this.clockController.hideClock();\n            }\n        };\n        this.showClockOrLogo = function () {\n            if (_this.logoUrl !== null) {\n                fabric.Image.fromURL(_this.logoUrl, function (image) {\n                    _this.logoImage = image;\n                    var ar = image.height / image.width;\n                    image.width = 200 * _this.zoomFactor;\n                    image.left = 705 * _this.zoomFactor - image.width / 2;\n                    image.height = image.width * ar;\n                    image.top = 220 * _this.zoomFactor - image.height / 2;\n                    _this.canvas.add(image);\n                    _this.canvas.renderAll();\n                });\n            }\n            else {\n                _this.clockController.showClock();\n            }\n        };\n        this.drawCameraAndGauges = function () {\n            fabric.Image.fromURL(\"http://\", function (image) {\n                _this.cameraImage = image;\n                var ar = image.height / image.width;\n                image.left = 455;\n                image.top = 60;\n                _this.canvas.add(image);\n                _this.drawGauges();\n            });\n            _this.showClockOrLogo();\n        };\n        this.drawLeftGauge = function () {\n            _this.leftGauge = new steelseries.Radial(\"gLeft\", {\n                gaugeType: steelseries.GaugeType.TYPE3,\n                minValue: 0,\n                maxValue: 100,\n                size: 510,\n                ledVisible: false,\n                foregroundType: steelseries.ForegroundType.TYPE3,\n                frameDesign: steelseries.FrameDesign.TILTED_BLACK,\n                knobStyle: steelseries.KnobStyle.SILVER,\n                pointerType: steelseries.PointerType.TYPE9,\n                lcdDecimals: 0,\n                threshold: 0,\n                tickLabelOrientation: steelseries.TickLabelOrientation.HORIZONTAL,\n                section: null,\n                area: null,\n                titleString: \"Speed\",\n                unitString: \"%\",\n                lcdVisible: true,\n                useOdometer: true,\n                odometerParams: { digits: 5 },\n                backgroundColor: steelseries.BackgroundColor.CARBON\n            });\n            var leftGaugeImage = new fabric.Image(document.getElementById(\"gLeft\"), {\n                left: 0,\n                top: 0,\n                width: 510,\n                height: 510\n            });\n            _this.canvas.add(leftGaugeImage);\n            _this.voltageText = new fabric.Text(_this.dummyVoltageValue, {\n                fontSize: 28,\n                textAlign: \"center\",\n                left: 890,\n                top: 25,\n                fontFamily: \"Arial\",\n                fill: \"white\"\n            });\n            _this.canvas.add(_this.voltageText);\n            _this.miniGaugeLeft = new steelseries.Linear(\"gMiniLeft\", {\n                gaugeType: steelseries.GaugeType.TYPE1,\n                backgroundVisible: false,\n                frameVisible: false,\n                minValue: 0,\n                maxValue: 100,\n                ledVisible: false,\n                thresholdVisible: false,\n                lcdVisible: false,\n                niceScale: false,\n                foregroundVisible: false,\n            });\n            var miniGaugeLeftImage = new fabric.Image(document.getElementById(\"gMiniLeft\"), {\n                left: 405,\n                top: 400,\n                width: 340,\n                height: 80\n            });\n            _this.canvas.add(miniGaugeLeftImage);\n            _this.miniGaugeRight = new steelseries.Linear(\"gMiniRight\", {\n                gaugeType: steelseries.GaugeType.TYPE1,\n                backgroundVisible: false,\n                frameVisible: false,\n                minValue: 0,\n                maxValue: 100,\n                ledVisible: false,\n                lcdVisible: false,\n                niceScale: true,\n                thresholdVisible: false,\n                foregroundVisible: false,\n            });\n            var miniGaugeRightImage = new fabric.Image(document.getElementById(\"gMiniRight\"), {\n                left: 660,\n                top: 400,\n                width: 340,\n                height: 80\n            });\n            _this.canvas.add(miniGaugeRightImage);\n        };\n        this.drawRightGauge = function () {\n            _this.rightGauge = new steelseries.RadialBargraph(\"gRight\", {\n                gaugeType: steelseries.GaugeType.TYPE2,\n                minValue: 10,\n                maxValue: 90,\n                size: 510,\n                tickLabelOrientation: steelseries.TickLabelOrientation.HORIZONTAL,\n                foregroundType: steelseries.ForegroundType.TYPE3,\n                frameDesign: steelseries.FrameDesign.TILTED_BLACK,\n                ledVisible: false,\n                niceScale: false,\n                fractionalScaleDecimals: false,\n                useValueGradient: true,\n                section: null,\n                area: null,\n                lcdVisible: false,\n                backgroundColor: steelseries.BackgroundColor.CARBON\n            });\n            var rightGaugeImage = new fabric.Image(document.getElementById(\"gRight\"), {\n                left: 898,\n                top: 0,\n                width: 510,\n                height: 510\n            });\n            _this.canvas.add(rightGaugeImage);\n            var degreesSymbol = new fabric.Text(\"°C\", {\n                fontSize: 28,\n                textAlign: \"center\",\n                left: 1317,\n                top: 270,\n                fontFamily: \"Arial\",\n                fill: \"white\"\n            });\n            _this.canvas.add(degreesSymbol);\n        };\n        this.drawGauges = function () {\n            _this.drawLeftGauge();\n            _this.drawRightGauge();\n            _this.parkingControl.init(_this.canvas);\n        };\n        this.drawMiddleDisplay = function () {\n            _this.canvas.add(new fabric.Line([400, 59, 1000, 59], {\n                stroke: \"gray\",\n                strokeWidth: 2\n            }));\n            _this.canvas.add(new fabric.Line([400, 436, 1000, 436], {\n                stroke: \"gray\",\n                strokeWidth: 2\n            }));\n        };\n        this.zoomIt = function (factor) {\n            _this.canvas.setHeight(_this.canvas.getHeight() * factor);\n            _this.canvas.setWidth(_this.canvas.getWidth() * factor);\n            if (_this.canvas.backgroundImage) {\n                var bi = _this.canvas.backgroundImage;\n                bi.width = bi.width * factor;\n                bi.height = bi.height * factor;\n            }\n            var objects = _this.canvas.getObjects();\n            for (var i in objects) {\n                var scaleX = objects[i].scaleX;\n                var scaleY = objects[i].scaleY;\n                var left = objects[i].left;\n                var top_1 = objects[i].top;\n                var tempScaleX = scaleX * factor;\n                var tempScaleY = scaleY * factor;\n                var tempLeft = left * factor;\n                var tempTop = top_1 * factor;\n                objects[i].scaleX = tempScaleX;\n                objects[i].scaleY = tempScaleY;\n                objects[i].left = tempLeft;\n                objects[i].top = tempTop;\n                objects[i].setCoords();\n            }\n            _this.canvas.renderAll();\n            _this.canvas.calcOffset();\n        };\n        this.resizeCanvas = function () {\n            var clientWidth = window.innerWidth;\n            _this.zoomFactor = clientWidth / _this.canvas.getWidth();\n            _this.zoomIt(_this.zoomFactor);\n        };\n        if (Dashboard.instance) {\n            throw new Error(\"Error - use Dashboard.getInstance()\");\n        }\n    }\n    Dashboard.getInstance = function () {\n        Dashboard.instance = Dashboard.instance || new Dashboard();\n        return Dashboard.instance;\n    };\n    return Dashboard;\n}());\nvar DashboardClockController = (function () {\n    function DashboardClockController(canvas) {\n        var _this = this;\n        this.isVisible = function () {\n            return _this.visible;\n        };\n        this.hideClock = function () {\n            _this.canvas.remove(_this.clockGaugeImage);\n            _this.visible = false;\n        };\n        this.showClock = function () {\n            _this.hideClock();\n            new steelseries.Clock(\"gClock\", {\n                gaugeType: steelseries.GaugeType.TYPE4,\n                size: 170,\n                secondPointerVisible: true,\n                backgroundVisible: true,\n                backgroundColor: steelseries.BackgroundColor.BRUSHED_STAINLESS,\n                frameVisible: false,\n                frameDesign: steelseries.FrameDesign.TILTED_BLACK,\n                minValue: 20,\n                maxValue: 80,\n                value: 45,\n                niceScale: true,\n                pointerType: steelseries.PointerType.TYPE5,\n            });\n            var factor = Dashboard.getInstance().zoomFactor;\n            _this.clockGaugeImage = new fabric.Image(document.getElementById(\"gClock\"), {\n                left: 579 * factor,\n                top: 120 * factor,\n                width: 250 * factor,\n                height: 250 * factor\n            });\n            _this.canvas.add(_this.clockGaugeImage);\n            _this.canvas.renderAll();\n            _this.visible = true;\n        };\n        this.updateTime = function () {\n            var today = new Date();\n            var h = _this.checkTime(today.getHours());\n            var m = _this.checkTime(today.getMinutes());\n            _this.clockText.setText(h + \":\" + m);\n        };\n        this.checkTime = function (i) {\n            if (i < 10) {\n                i = \"0\" + i;\n            }\n            ;\n            return i;\n        };\n        this.canvas = canvas;\n        this.clockText = new fabric.Text(\"21:45\", {\n            fontSize: 28,\n            textAlign: \"center\",\n            left: 420,\n            top: 25,\n            fontFamily: \"Arial\",\n            fill: \"white\"\n        });\n        this.canvas.add(this.clockText);\n        this.updateTime();\n    }\n    return DashboardClockController;\n}());\nvar DashboardIcons;\n(function (DashboardIcons) {\n    DashboardIcons[DashboardIcons[\"SeatBelt\"] = 0] = \"SeatBelt\";\n    DashboardIcons[DashboardIcons[\"Tempomat\"] = 1] = \"Tempomat\";\n    DashboardIcons[DashboardIcons[\"FrontAssist\"] = 2] = \"FrontAssist\";\n    DashboardIcons[DashboardIcons[\"Engine\"] = 3] = \"Engine\";\n    DashboardIcons[DashboardIcons[\"Headlights\"] = 4] = \"Headlights\";\n    DashboardIcons[DashboardIcons[\"LaneAssist\"] = 5] = \"LaneAssist\";\n    DashboardIcons[DashboardIcons[\"ParkingBrake\"] = 6] = \"ParkingBrake\";\n    DashboardIcons[DashboardIcons[\"ParkingSensors\"] = 7] = \"ParkingSensors\";\n    DashboardIcons[DashboardIcons[\"WaterTemperature\"] = 8] = \"WaterTemperature\";\n    DashboardIcons[DashboardIcons[\"TurnSignals\"] = 9] = \"TurnSignals\";\n})(DashboardIcons || (DashboardIcons = {}));\nvar DashboardIconsController = (function () {\n    function DashboardIconsController(canvas) {\n        this.icons = {};\n        this.canvas = canvas;\n    }\n    DashboardIconsController.prototype.showIcon = function (target) {\n        var _this = this;\n        var icon = this.icons[target];\n        if (icon != undefined && icon.isVisible) {\n            return;\n        }\n        else {\n            this.icons[target] = { id: target, isVisible: true };\n        }\n        var path = null;\n        var left = -1;\n        var top = -1;\n        switch (target) {\n            case DashboardIcons.Engine:\n                path = \"/images/Engine.svg\";\n                left = 675;\n                top = 445;\n                break;\n            case DashboardIcons.FrontAssist:\n                path = \"/images/Frontassist.svg\";\n                left = 1230;\n                top = 300;\n                break;\n            case DashboardIcons.Headlights:\n                path = \"/images/Headlights.svg\";\n                left = 615;\n                top = 10;\n                break;\n            case DashboardIcons.LaneAssist:\n                path = \"/images/Laneassist.svg\";\n                left = 525;\n                top = 445;\n                break;\n            case DashboardIcons.ParkingBrake:\n                path = \"/images/Parkingbrake.svg\";\n                left = 840;\n                top = 445;\n                break;\n            case DashboardIcons.ParkingSensors:\n                path = \"/images/Parkingsensors.svg\";\n                left = 1030;\n                top = 300;\n                break;\n            case DashboardIcons.SeatBelt:\n                path = \"/images/Seatbelt.svg\";\n                left = 900;\n                top = 445;\n                break;\n            case DashboardIcons.Tempomat:\n                path = \"/images/Tempomat.svg\";\n                left = 465;\n                top = 445;\n                break;\n            case DashboardIcons.TurnSignals:\n                path = \"/images/Turnsignal.svg\";\n                left = 675;\n                top = 10;\n                break;\n            case DashboardIcons.WaterTemperature:\n                path = \"/images/Temperature.svg\";\n                left = 960;\n                top = 280;\n                break;\n        }\n        if (path !== null && left !== -1 && top !== -1) {\n            fabric.loadSVGFromURL(path, function (objects) {\n                var factor = Dashboard.getInstance().zoomFactor;\n                var result = new fabric.PathGroup(objects, {\n                    left: left * factor,\n                    top: top * factor\n                });\n                result.scaleX = 0.7 * factor;\n                result.scaleY = 0.7 * factor;\n                _this.canvas.add(result);\n                _this.icons[target] = { id: target, iconPath: result, isVisible: true };\n            });\n        }\n    };\n    DashboardIconsController.prototype.hideIcon = function (target) {\n        var icon = this.icons[target];\n        if (icon != undefined && icon.isVisible) {\n            icon.isVisible = false;\n            this.canvas.remove(icon.iconPath);\n            icon.iconPath = null;\n        }\n    };\n    DashboardIconsController.prototype.showAllIcons = function () {\n        this.showIcon(DashboardIcons.Engine);\n        this.showIcon(DashboardIcons.FrontAssist);\n        this.showIcon(DashboardIcons.Headlights);\n        this.showIcon(DashboardIcons.LaneAssist);\n        this.showIcon(DashboardIcons.ParkingBrake);\n        this.showIcon(DashboardIcons.ParkingSensors);\n        this.showIcon(DashboardIcons.SeatBelt);\n        this.showIcon(DashboardIcons.Tempomat);\n        this.showIcon(DashboardIcons.TurnSignals);\n        this.showIcon(DashboardIcons.WaterTemperature);\n    };\n    DashboardIconsController.prototype.hideAllIcons = function () {\n        this.hideIcon(DashboardIcons.Engine);\n        this.hideIcon(DashboardIcons.FrontAssist);\n        this.hideIcon(DashboardIcons.Headlights);\n        this.hideIcon(DashboardIcons.LaneAssist);\n        this.hideIcon(DashboardIcons.ParkingBrake);\n        this.hideIcon(DashboardIcons.ParkingSensors);\n        this.hideIcon(DashboardIcons.SeatBelt);\n        this.hideIcon(DashboardIcons.Tempomat);\n        this.hideIcon(DashboardIcons.TurnSignals);\n        this.hideIcon(DashboardIcons.WaterTemperature);\n    };\n    return DashboardIconsController;\n}());\nvar Parking = (function () {\n    function Parking() {\n        var _this = this;\n        this.colorOff = \"lightGray\";\n        this.color1 = \"yellow\";\n        this.color2 = \"orange\";\n        this.color3 = \"orangered\";\n        this.color4 = \"red\";\n        this.colorLeftLine = \"red\";\n        this.colorRightLine = \"green\";\n        this.isOff = true;\n        this.circle1 = null;\n        this.circle2 = null;\n        this.circle3 = null;\n        this.circle4 = null;\n        this.left = null;\n        this.right = null;\n        this.lineLeft = null;\n        this.lineRight = null;\n        this.update = function (msg) {\n            if (_this.canvas != null) {\n                _this.circle1.stroke = _this.colorOff;\n                _this.circle2.stroke = _this.colorOff;\n                _this.circle3.stroke = _this.colorOff;\n                _this.circle4.stroke = _this.colorOff;\n                _this.left.stroke = _this.colorOff;\n                _this.right.stroke = _this.colorOff;\n                _this.lineLeft.fill = _this.colorOff;\n                _this.lineRight.fill = _this.colorOff;\n                var dist = msg[\"d\"];\n                if (!_this.isOff) {\n                    _this.miniDisplay.setValue(dist);\n                }\n                if (dist < 50 && dist >= 30) {\n                    _this.circle1.stroke = _this.color1;\n                }\n                if (dist < 30 && dist >= 20) {\n                    _this.circle2.stroke = _this.color2;\n                }\n                if (dist < 20 && dist >= 10) {\n                    _this.circle3.stroke = _this.color3;\n                }\n                if (dist < 10 || msg[\"c\"]) {\n                    _this.circle4.stroke = _this.color4;\n                }\n                if (msg[\"l\"]) {\n                    _this.left.stroke = _this.color4;\n                }\n                if (msg[\"r\"]) {\n                    _this.right.stroke = _this.color4;\n                }\n                if (msg[\"ll\"]) {\n                    _this.lineLeft.fill = _this.colorLeftLine;\n                }\n                if (msg[\"rl\"]) {\n                    _this.lineRight.fill = _this.colorRightLine;\n                }\n                if (msg[\"fa\"]) {\n                    _this.iconsController.showIcon(DashboardIcons.FrontAssist);\n                }\n                else {\n                    _this.iconsController.hideIcon(DashboardIcons.FrontAssist);\n                }\n                _this.canvas.renderAll();\n            }\n        };\n        this.turnOff = function () {\n            _this.isOff = true;\n            _this.update({ \"d\": 10000 });\n            _this.drawMiniDisplay();\n        };\n        this.turnOn = function () {\n            _this.isOff = false;\n            _this.drawMiniDisplay();\n        };\n        this.init = function (canvas) {\n            var startAngle = -2.618;\n            var endAngle = -0.5235;\n            startAngle = -2.35619;\n            endAngle = -0.785398;\n            _this.canvas = canvas;\n            _this.canvas.allowTouchScrolling = false;\n            _this.canvas.setZoom(1);\n            _this.circle1 = new fabric.Circle({\n                radius: 100,\n                left: -10,\n                top: 20,\n                angle: 0,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.circle2 = new fabric.Circle({\n                radius: 80,\n                left: 10,\n                top: 40,\n                angle: 0,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.circle3 = new fabric.Circle({\n                radius: 60,\n                left: 30,\n                top: 60,\n                angle: 0,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.circle4 = new fabric.Circle({\n                radius: 40,\n                left: 50,\n                top: 80,\n                angle: 0,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.left = new fabric.Circle({\n                radius: 40,\n                left: 50,\n                top: 80,\n                angle: 0,\n                startAngle: startAngle - 0.8,\n                endAngle: endAngle - 1.65,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            _this.right = new fabric.Circle({\n                radius: 40,\n                left: 50,\n                top: 80,\n                angle: 0,\n                startAngle: startAngle + 1.65,\n                endAngle: endAngle + 0.8,\n                stroke: _this.colorOff,\n                strokeWidth: 17,\n                fill: \"\",\n                selectable: false\n            });\n            var body = new fabric.Rect({\n                top: 115,\n                left: 73,\n                width: 50,\n                height: 100,\n                fill: \"gray\",\n                selectable: false\n            });\n            var wleft = new fabric.Rect({\n                top: 180,\n                left: 45,\n                width: 25,\n                height: 50,\n                fill: \"dimgray\",\n                selectable: false\n            });\n            var wright = new fabric.Rect({\n                top: 180,\n                left: 126,\n                width: 25,\n                height: 50,\n                fill: \"dimgray\",\n                selectable: false\n            });\n            _this.lineLeft = new fabric.Rect({\n                top: 130,\n                left: 80,\n                width: 10,\n                height: 20,\n                fill: _this.colorOff,\n                selectable: false\n            });\n            _this.lineRight = new fabric.Rect({\n                top: 130,\n                left: 106,\n                width: 10,\n                height: 20,\n                fill: _this.colorOff,\n                selectable: false\n            });\n            var parkingControl = new fabric.Group([\n                _this.circle1, _this.circle2, _this.circle3, _this.circle4, _this.left, _this.right,\n                body, wleft, wright, _this.lineLeft, _this.lineRight\n            ], {\n                left: 1078,\n                top: 140,\n                width: 150,\n                scaleX: 1,\n                scaleY: 1,\n                lockScalingX: true,\n                lockScalingY: true,\n                lockScalingFlip: true,\n                hasBorders: false,\n                hasControls: false\n            });\n            _this.canvas.add(parkingControl);\n            _this.drawMiniDisplay();\n        };\n        this.drawMiniDisplay = function () {\n            if (_this.miniDisplayImage != null) {\n                _this.canvas.remove(_this.miniDisplayImage);\n            }\n            if (_this.isOff) {\n                _this.miniDisplay = new steelseries.DisplaySingle(\"gMini\", {\n                    width: 160,\n                    height: 60,\n                    valuesNumeric: false,\n                    value: \"off \",\n                    lcdDecimals: 0\n                });\n            }\n            else {\n                _this.miniDisplay = new steelseries.DisplaySingle(\"gMini\", {\n                    width: 160,\n                    height: 60,\n                    unitString: \"cm\",\n                    lcdDecimals: 0,\n                    unitStringVisible: true\n                });\n            }\n            var factor = Dashboard.getInstance().zoomFactor;\n            _this.miniDisplayImage = new fabric.Image(document.getElementById(\"gMini\"), {\n                left: 1073 * factor,\n                top: 360 * factor,\n                width: 160 * factor,\n                height: 60 * factor\n            });\n            _this.canvas.add(_this.miniDisplayImage);\n        };\n    }\n    return Parking;\n}());\n;\nvar RequestsHelper = (function () {\n    function RequestsHelper() {\n    }\n    RequestsHelper.prototype.put = function (command, callbackSuccess, callbackError) {\n        if (callbackSuccess === void 0) { callbackSuccess = null; }\n        if (callbackError === void 0) { callbackError = null; }\n        $.ajax({\n            url: Settings.Current.getBaseAPIUrl() + command,\n            type: \"PUT\",\n            success: function (result) {\n                console.log(command);\n                if (callbackSuccess != null) {\n                    callbackSuccess(result);\n                }\n            },\n            error: function (result) {\n                console.log(result + command);\n                if (callbackError != null) {\n                    callbackError(result);\n                }\n            }\n        });\n    };\n    RequestsHelper.Current = new RequestsHelper();\n    return RequestsHelper;\n}());\nvar RobotControls = (function () {\n    function RobotControls() {\n        var _this = this;\n        this.joystickLeft = null;\n        this.accButton = null;\n        this.brakeButton = null;\n        this.currentSpeed = 40;\n        this.showDirectionJoystick = function () {\n            if (_this.joystickLeft != null)\n                return;\n            var currentDirectionAngle = 0;\n            Dashboard.getInstance().setCruiseControlSpeed(_this.currentSpeed);\n            _this.joystickLeft = nipplejs.create({\n                maxNumberOfNipples: 1,\n                zone: document.getElementById(\"jLeft\"),\n                mode: \"dynamic\",\n                size: 120,\n                position: { left: \"50%\", top: \"50%\" },\n                color: \"green\"\n            }).on(\"start end\", function (evt, data) {\n                if (evt.type === \"end\") {\n                    RequestsHelper.Current.put(\"motor/stop\");\n                    Dashboard.getInstance().stop();\n                }\n            }).on(\"move\", function (evt, data) {\n                var dist = data.distance;\n                if (dist > 10) {\n                    var angle = Math.floor(data.angle.degree / 10) * 10;\n                    if (angle !== currentDirectionAngle) {\n                        RequestsHelper.Current.put(\"motor/move/\" + angle);\n                        currentDirectionAngle = angle;\n                        Dashboard.getInstance().move();\n                        if ((angle > 100 && angle < 260) || angle < 80 || angle > 280) {\n                            Dashboard.getInstance().showIcon(DashboardIcons.TurnSignals);\n                        }\n                        else {\n                            Dashboard.getInstance().hideIcon(DashboardIcons.TurnSignals);\n                        }\n                    }\n                }\n            });\n        };\n    }\n    RobotControls.prototype.init = function () {\n        var _this = this;\n        this.accButton = $(\"#accButton\");\n        this.accButton.click(function () {\n            _this.modifySpeed(+10);\n        });\n        this.brakeButton = $(\"#brakeButton\");\n        this.brakeButton.click(function () {\n            _this.modifySpeed(-10);\n        });\n    };\n    RobotControls.prototype.show = function () {\n        this.showDirectionJoystick();\n        this.accButton.show();\n        this.brakeButton.show();\n    };\n    RobotControls.prototype.hide = function () {\n        if (this.joystickLeft != null) {\n            this.joystickLeft.destroy();\n            this.joystickLeft = null;\n        }\n        if (this.accButton != null) {\n            this.accButton.hide();\n        }\n        if (this.brakeButton != null) {\n            this.brakeButton.hide();\n        }\n    };\n    RobotControls.prototype.modifySpeed = function (speed) {\n        var _this = this;\n        RequestsHelper.Current.put(\"motor/speed/\" + (this.currentSpeed + speed), function (data) {\n            _this.currentSpeed = data[\"speed\"];\n            Dashboard.getInstance().setCruiseControlSpeed(_this.currentSpeed);\n        });\n    };\n    return RobotControls;\n}());\nvar Settings = (function () {\n    function Settings() {\n        var _this = this;\n        this.robotIpCookieName = \"RobotIP\";\n        this.robotIP = null;\n        this.show = function () {\n            BootstrapDialog.show({\n                title: \"Settings\",\n                message: $(\"<div></div>\").load(\"settings.html\"),\n                closable: true,\n                closeByBackdrop: true,\n                closeByKeyboard: true,\n                data: {},\n                onshow: function (dialogRef) {\n                },\n                onshown: function (dialogRef) {\n                    $(\"#robotIP\").val(_this.getRobotIp());\n                    $(\"#shutdownButton\").click(_this.executeShutdown);\n                    $(\"#rebootButton\").click(_this.executeReboot);\n                    $(\"#stopButton\").click(_this.executeStop);\n                },\n                buttons: [\n                    {\n                        label: \"Close\",\n                        action: function (dialogItself) {\n                            dialogItself.close();\n                        }\n                    }\n                ],\n                onhide: function (dialogRef) {\n                    _this.robotIP = $(\"#robotIP\").val();\n                    _this.storeRobotIp();\n                }\n            });\n        };\n        this.getBaseServerUrl = function () {\n            return \"http://\" + _this.getRobotIp();\n        };\n        this.getBaseAPIUrl = function () {\n            return \"http://\" + _this.getRobotIp() + \":80/ropi/api/v1.0/\";\n        };\n        this.getCameraUrl = function () {\n            return _this.getBaseServerUrl() + \":8080/stream/video.mjpeg\";\n        };\n    }\n    Settings.prototype.getRobotIp = function () {\n        if (!this.checkRobotIp(this.robotIP)) {\n            this.robotIP = Cookies.get(this.robotIpCookieName);\n            if (!this.checkRobotIp(this.robotIP)) {\n                this.robotIP = window.location.hostname;\n                if (!this.checkRobotIp(this.robotIP)) {\n                    this.robotIP = \"raspberrypi\";\n                }\n            }\n        }\n        return this.robotIP;\n    };\n    Settings.prototype.storeRobotIp = function () {\n        Cookies.set(this.robotIpCookieName, this.robotIP);\n    };\n    Settings.prototype.checkRobotIp = function (ip) {\n        return ip != null && ip !== \"\" && ip !== \"undefined\";\n    };\n    Settings.prototype.executeShutdown = function () {\n        BootstrapDialog.confirm({\n            title: \"WARNING\",\n            message: \"You are about to shutdown the Robot.\\r\\n You won't be able to reach it anymore (power on required)\",\n            type: BootstrapDialog.TYPE_DANGER,\n            btnOKLabel: \"Yes, shutdown!\",\n            btnOKClass: \"btn-danger\",\n            callback: function (result) {\n                if (result) {\n                    RequestsHelper.Current.put(\"system/shutdown\");\n                }\n            }\n        });\n    };\n    Settings.prototype.executeReboot = function () {\n        BootstrapDialog.confirm({\n            title: \"WARNING\",\n            message: \"You are about to reboot the Robot.\\r\\n Please wait few minutes then reconnect to the Robot.\",\n            type: BootstrapDialog.TYPE_WARNING,\n            btnOKLabel: \"Yes, reboot!\",\n            btnOKClass: \"btn-warning\",\n            callback: function (result) {\n                if (result) {\n                    RequestsHelper.Current.put(\"system/reboot\");\n                }\n            }\n        });\n    };\n    Settings.prototype.executeStop = function () {\n        BootstrapDialog.confirm({\n            title: \"WARNING\",\n            message: \"You are about to stop the server running on the Robot.\\r\\n You won't be able to reach it anymore (hard reset required)\",\n            type: BootstrapDialog.TYPE_DANGER,\n            btnOKLabel: \"Yes, stop it!\",\n            btnOKClass: \"btn-danger\",\n            callback: function (result) {\n                if (result) {\n                    RequestsHelper.Current.put(\"quit\");\n                }\n            }\n        });\n    };\n    Settings.Current = new Settings();\n    return Settings;\n}());\n\n},{}]},{},[1])(1)\n});\n\n"],"sourceRoot":"/source/"}